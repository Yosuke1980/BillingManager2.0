{
  "matching_system": {
    "version": "1.0",
    "description": "ç…§åˆã‚·ã‚¹ãƒ†ãƒ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«",
    "main_matching": {
      "name": "ãƒ¡ã‚¤ãƒ³ç…§åˆæ©Ÿèƒ½",
      "method": "match_with_payments",
      "trigger": "ğŸ’° æ”¯æ‰•ã„ã¨ç…§åˆãƒœã‚¿ãƒ³",
      "description": "è²»ç”¨ç®¡ç†ã¨æ”¯æ‰•ã„æƒ…å ±ã®å…¨é …ç›®ã‚’ç…§åˆ"
    },
    "matching_conditions": {
      "priority_order": [
        {
          "priority": 1,
          "condition": "æ”¯æ‰•ã„å…ˆã‚³ãƒ¼ãƒ‰å®Œå…¨ä¸€è‡´",
          "sql_condition": "payee_code = ?",
          "description": "æ”¯æ‰•ã„å…ˆã‚³ãƒ¼ãƒ‰ã«ã‚ˆã‚‹å®Œå…¨ä¸€è‡´æ¤œç´¢"
        },
        {
          "priority": 2,
          "condition": "é‡‘é¡ã®å®Œå…¨ä¸€è‡´",
          "sql_condition": "amount = ?",
          "description": "é‡‘é¡ã«ã‚ˆã‚‹å®Œå…¨ä¸€è‡´æ¤œç´¢"
        },
        {
          "priority": 3,
          "condition": "åŒä¸€æœˆãƒ•ã‚£ãƒ«ã‚¿",
          "sql_condition": "substr(payment_date, 1, 7) = ?",
          "example": "2025-04",
          "description": "æ”¯æ‰•æ—¥ã®å¹´æœˆã«ã‚ˆã‚‹çµã‚Šè¾¼ã¿"
        }
      ]
    },
    "judgment_results": [
      {
        "status": "æœªç€ãƒ»å‚¬ä¿ƒè¦",
        "icon": "âŒ",
        "condition": "æ”¯æ‰•ã„ãƒ‡ãƒ¼ã‚¿ãŒå…¨ãå­˜åœ¨ã—ãªã„",
        "color": "#f8d7da",
        "action": "å‚¬ä¿ƒãŒå¿…è¦"
      },
      {
        "status": "è¦ç¢ºèªãƒ»é‡‘é¡ç¢ºèªè¦",
        "icon": "âš¡",
        "condition": "æ”¯æ‰•ã„ãƒ‡ãƒ¼ã‚¿ã¯ã‚ã‚‹ãŒé‡‘é¡ã«å·®ç•°",
        "color": "#fff3cd",
        "action": "é‡‘é¡ç¢ºèªãŒå¿…è¦"
      },
      {
        "status": "åˆ°ç€æ¸ˆã¿ãƒ»å¯¾å¿œä¸è¦",
        "icon": "âœ…",
        "condition": "é‡‘é¡ãŒå®Œå…¨ä¸€è‡´",
        "color": "#d4edda",
        "action": "å¯¾å¿œä¸è¦"
      }
    ],
    "database_structure": {
      "expense_db": {
        "name": "expenses.db",
        "date_format": "YYYY-MM-DD",
        "example": "2025-04-01",
        "description": "è²»ç”¨ç®¡ç†ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹"
      },
      "payment_db": {
        "name": "billing.db",
        "date_format": "YYYY/MM/DD",
        "example": "2025/04/01",
        "description": "æ”¯æ‰•ã„æƒ…å ±ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹"
      }
    },
    "matching_statistics": {
      "metrics": [
        {
          "name": "ä¸€è‡´ä»¶æ•°ã‚«ã‚¦ãƒ³ãƒˆ",
          "type": "å®Œå…¨ä¸€è‡´",
          "description": "é‡‘é¡ã¨æ”¯æ‰•ã„å…ˆãŒå®Œå…¨ã«ä¸€è‡´ã™ã‚‹ä»¶æ•°"
        },
        {
          "name": "å…¨ä½“ç…§åˆçŠ¶æ³",
          "type": "è‰²åˆ†ã‘ã«ã‚ˆã‚‹è¦–è¦šåŒ–",
          "colors": {
            "green": "#c8e6c9",
            "yellow": "#fff9c4",
            "red": "#f8d7da"
          }
        }
      ]
    },
    "matching_algorithm": {
      "steps": [
        {
          "step": 1,
          "action": "æ”¯æ‰•ã„å…ˆã‚³ãƒ¼ãƒ‰ã«ã‚ˆã‚‹æ¤œç´¢",
          "sql": "SELECT * FROM payments WHERE payee_code = ?"
        },
        {
          "step": 2,
          "action": "é‡‘é¡ã«ã‚ˆã‚‹å®Œå…¨ä¸€è‡´ç¢ºèª",
          "condition": "amount = target_amount"
        },
        {
          "step": 3,
          "action": "åŒä¸€æœˆã§ã®çµã‚Šè¾¼ã¿",
          "condition": "substr(payment_date, 1, 7) = target_month"
        },
        {
          "step": 4,
          "action": "çµæœåˆ¤å®šã¨è‰²åˆ†ã‘è¡¨ç¤º",
          "output": "è¦–è¦šçš„ãªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º"
        }
      ]
    },
    "configuration_notes": {
      "update_date": "2025-09-26",
      "maintainer": "BillingManager System",
      "usage": "ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ç…§åˆãƒ­ã‚¸ãƒƒã‚¯ã®è¨­å®šã‚’ç®¡ç†ã—ã¾ã™"
    }
  }
}